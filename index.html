<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마왕 토벌 후, 미소녀 용사가 되어버렸다</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .vignette-overlay { background: linear-gradient(to bottom, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 25%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.9) 100%); }
        .game-text-shadow { text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9); }
        .choice-button { transition: all 0.2s ease; background-color: rgba(17, 24, 39, 0.7); backdrop-filter: blur(5px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .choice-button:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); background-color: rgba(31, 41, 55, 0.9); }
        .nav-button { transition: background-color 0.2s ease; } .nav-button:hover { background-color: rgba(255, 255, 255, 0.2); }
        .fade-in { animation: fadeIn 0.5s ease-in-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .text-box { background-color: rgba(0,0,0,0.6); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
    </style>
</head>
<body class="bg-black text-white">
    <div id="game-container" class="relative w-full h-screen overflow-hidden"></div>
<script>
    const storyData = {
  "title": "마왕 토벌 후, 미소녀 용사가 되어버렸다",
  "setting": "고대 마법과 검술이 공존하는 판타지 세계, 아르카디아. 수백 년간 인간계를 위협해 온 마왕이 용사에 의해 쓰러졌지만, 그 대가로 용사는 예상치 못한 운명을 맞이한다.",
  "synopsis": "마왕을 쓰러뜨린 용사 '카일'은 승리의 기쁨도 잠시, 저주인지 축복인지 모를 힘에 의해 미소녀로 변하게 된다. 자신의 변화에 혼란스러워하던 카일은 원래 모습으로 돌아가기 위해, 그리고 마왕 사후 혼란에 빠진 세계를 구하기 위해 다시 한번 모험을 떠난다.",
  "ending": "미소녀 용사 '카일'은 자신의 새로운 모습과 힘을 받아들이고, 인간과 마족 간의 갈등을 해소하여 아르카디아에 진정한 평화를 가져온다. 원래 모습으로 돌아갈 수 있는 기회가 찾아오지만, 그녀는 자신의 선택으로 미래를 결정한다.",
  "art_style_guide": "2D Japanese anime style, vibrant fantasy world with hints of gothic architecture, pastel and warm color palette with occasional bursts of magical energy in bright blues and purples, characters with large expressive eyes and detailed armor/clothing, lush forest backgrounds with soft lighting and sparkling magical effects.",
  "characters": [
    {
      "name": "카일 (카렌)",
      "role": "player",
      "description": "마왕을 쓰러뜨린 용사였지만, 미소녀로 변해버렸다. 뛰어난 검술 실력과 강인한 정신력을 지녔으며, 정의감이 넘친다. 변신 후에는 여성스러운 면모가 드러나 당황하기도 한다.",
      "status": "인간과 마족의 힘 사이에서 갈등 심화, 용사의 검과의 연결 강화"
    },
    {
      "name": "아리엘",
      "role": "main",
      "description": "명석한 두뇌를 가진 엘프 마법사. 카일의 조력자이자 든든한 동료. 냉철하지만 따뜻한 마음을 지녔으며, 카일의 변화에 대한 비밀을 파헤치려 한다.",
      "status": "마족의 힘 폭주, 일시적 퇴각"
    },
    {
      "name": "가레스",
      "role": "supporting",
      "description": "왕국의 기사단장. 우직하고 용감하며, 카일을 존경한다. 카일의 갑작스러운 변화에 당황하지만, 변함없이 그(그녀)를 지지한다.",
      "status": "석상의 저주로부터 잠시 해방, 정신 불안정"
    }
  ],
  "plan": [
    "1장: 마왕 토벌, 그리고 갑작스러운 변화 – 용사 카일, 미소녀가 되다",
    "2장: 혼란과 새로운 시작 – 자신의 모습에 적응하며, 여정을 결심하다",
    "3장: 엘프의 숲, 아리엘과의 만남 – 마법사 아리엘과 동행하다",
    "4장: 왕국의 위기 – 마왕 사후 혼란을 틈탄 반란 세력의 등장",
    "5장: 기사단장 가레스, 재회 – 가레스와 함께 반란 진압에 나서다",
    "6장: 숨겨진 음모 – 반란의 배후에 도사린 검은 그림자",
    "7장: 고대 유적 탐험 – 원래 모습으로 돌아가기 위한 단서 찾기",
    "8장: 봉인된 마력 – 미소녀 용사로서의 힘을 각성하다",
    "9장: 폭주하는 힘, 깨어나는 용사",
    "10장: 아리엘의 각성, 봉인된 기억",
    "11장: 마족의 그림자, 숨겨진 배후",
    "12장: 고대 유적, 시험의 문턱",
    "13장: 인간과 마족, 엇갈리는 운명",
    "14장: 선택의 기로, 카일의 결심",
    "15장: 균열의 시작, 평화의 위협",
    "16장: 희망의 빛, 새로운 아르카디아"
  ],
  "story": {
    "chapter_0": {
      "title": "1장: 마왕 토벌, 그리고 갑작스러운 변화 – 용사 카일, 미소녀가 되다",
      "image_prompt": "A young black-haired man in shining silver armor stands in a grand hall, bathed in golden light. He holds a sword, but his expression is one of bewilderment. The scene quickly dissolves into magical light.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_0-1753237162028.png",
      "content": [
        "으아아! 마왕을 쓰러뜨렸다! 내 칼, '빛을 가르는 자'가 해냈어!",
        "온 세상이 환호하는 것 같았어. 기쁨에 휩싸여 하늘을 붕붕 날아다니는 기분이었지. 드디어, 드디어 이 지긋지긋한 전쟁이 끝난 거야!",
        "…근데, 뭔가 이상해. 몸이 간질간질하고, 찌릿찌릿해. 뭐지, 이 기분 나쁜 느낌은?",
        "갑자기 온몸이 빛에 휩싸였어! 눈을 뜰 수가 없을 정도로 강렬한 빛이었지. 마치 내가 새로운 태양이 된 것 같은 느낌이었어!",
        "…어라? 내 목소리가 왜 이렇게 앙칼진 거지? 으으… 손도 작아졌잖아! 거울… 거울을 봐야겠어!",
        "세상에! 거울 속에 있는 건… 누구세요? 이렇게 예쁜 아가씨는 처음 보는데… 잠깐, 설마… 이게 나라고?!",
        "“말도 안 돼! 내가… 내가 미소녀가 되다니!” 내 입에서 튀어나온 말은 믿을 수 없을 정도로 깜찍… 아니, 끔찍했어!",
        "어떻게 된 일인지 알아내야 해! 아리엘에게 연락해 봐야겠어. 분명 뭔가 알고 있을 거야. 일단 왕국으로 돌아가자.",
        "가레스 단장님도 걱정하고 계실 거야. 갑자기 이렇게 변해버렸으니… 뭐라고 설명해야 할까?",
        "왕국으로 돌아가는 길, 숲 속에서 이상한 기운이 느껴졌어. 마왕이 쓰러졌는데도, 아직 악의 기운이 남아있는 걸까? 아니면… 새로운 문제의 시작일까?"
      ],
      "choices": [
        {
          "text": "왕국으로 서둘러 돌아간다.",
          "next_node": "chapter_1"
        },
        {
          "text": "숲 속의 기운을 조사해본다.",
          "next_node": "chapter_0_b"
        }
      ]
    },
    "chapter_1": {
      "title": "2장: 혼란과 새로운 시작 – 자신의 모습에 적응하며, 여정을 결심하다",
      "image_prompt": "A black-haired young woman in shining silver armor sits on a large stone, looking at her reflection in a nearby pond. She has a conflicted expression on her face. A wise-looking woman with long white hair approaches her cautiously. Sunbeams filter through the trees, creating a magical atmosphere.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_1-1753237178719.png",
      "content": [
        "왕국으로 돌아오는 내내 거울만 봤어. 아니, 정확히는 거울 속에 있는 '나'를 봤지. 이렇게 예쁜 애가 왜 하필 나라니! 용사 카일은 어디 가고, 갑자기 아이돌 데뷔라도 해야 할 판이야.",
        "왕궁에 도착하자 가레스 단장님이 달려오셨어. “카일! 무슨 일이 있었던 건가!?” 걱정스러운 얼굴로 묻는데, 차마 ‘제가 미소녀가 됐어요!’라고 말할 수가 없었어. 너무 부끄럽잖아!",
        "“저… 그러니까… 마왕의 저주… 인 것 같아요.” 어색하게 둘러댔지. 가레스 단장님은 내 말에 깜짝 놀라셨어. “저주?! 이런… 당장 신전으로 가야 한다!”",
        "신전에서는 별다른 답을 얻지 못했어. 신관님은 고개를 저으며 말했지. “이렇게 강력한 마법은 처음 봅니다. 해독은 불가능할 것 같군요.” 으아, 절망적이야!",
        "결국 아리엘을 찾아갔어. 아리엘은 내 모습을 보더니 눈이 휘둥그래졌지. “카… 카일?! 너, 너 대체 무슨 짓을… 아니, 무슨 일이 있었던 거야?!”",
        "자초지종을 설명했더니 아리엘은 곰곰이 생각하더니 말했어. “흐음… 마왕의 힘이 예상보다 강대했던 걸지도 몰라. 아니면… 새로운 힘의 발현일 수도 있고.”",
        "“새로운 힘? 그게 뭔데? 내가 갑자기 뿅뿅거리는 마법이라도 쓸 수 있게 된다는 거야?” 내 말에 아리엘은 웃음을 터뜨렸어. “그럴지도 모르지. 하지만 지금은 그걸 연구해 볼 시간이 없어. 마왕이 사라진 후, 세상이 혼란스러워. 여기저기서 마족들이 날뛰고 있다고.”",
        "아리엘은 심각한 표정으로 말했어. “카일, 아니 카렌. 네 힘이 필요해. 네가 가진 용사의 힘은 여전하잖아? 이 혼란을 막아줘.”",
        "미소녀 용사라… 어색하지만, 해야 할 일이 있다는 건 변하지 않아. 그래, 다시 한번 세상을 구하는 거야! 이번엔… 조금 더 깜찍하게?",
        "결심을 굳히자 아리엘이 내게 쪽지를 하나 건네줬어. \"이건…\" 내가 묻자 아리엘은 의미심장한 미소를 지으며 말했어. \"네 여정에 도움이 될 만한 정보가 담겨 있을 거야. 하지만… 조심해야 해. 이 정보를 노리는 자들도 있거든.\""
      ],
      "choices": [
        {
          "text": "아리엘이 준 쪽지를 확인하고 여정을 떠난다.",
          "next_node": "chapter_2"
        },
        {
          "text": "가레스 단장님께 작별 인사를 하고 떠난다.",
          "next_node": "chapter_1_b"
        }
      ]
    },
    "chapter_2": {
      "title": "3장: 엘프의 숲, 아리엘과의 만남 – 마법사 아리엘과 동행하다",
      "image_prompt": "A black-haired young woman, dressed as a knight but with a feminine appearance, walks alongside a wise-looking woman with long white hair in a lush forest with glowing plants and sparkling magical effects. They are surrounded by tall trees and soft lighting.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_2-1753237195664.png",
      "content": [
        "아리엘이 준 쪽지를 펼쳐봤어. 꼬깃꼬깃한 종이에 삐뚤빼뚤한 글씨로 '엘프의 숲, 에메랄드 호수 근처'라고 적혀있었어. 으음, 여기가 어디람? 그래도 아리엘이 준 거니까 뭔가 있겠지!",
        "“엘프의 숲이라… 왠지 모르게 두근거리는걸?” 혼잣말을 중얼거리며 왕궁을 나섰어. 가레스 단장님께는 쪽지에 적힌 장소를 말하지 않았어. 혹시라도 위험한 곳일 수도 있으니까.",
        "며칠을 걷고 또 걸어서 드디어 엘프의 숲에 도착했어. 와아, 진짜 예쁘다! 나무들이 엄청 크고, 풀들도 반짝반짝 빛나. 마치 동화 속에 들어온 것 같아!",
        "에메랄드 호수를 찾아 숲 속을 헤매던 중, 낯익은 목소리가 들렸어. “카렌? 거기 있었구나!”",
        "고개를 돌려보니 아리엘이 나무 뒤에서 걸어 나오고 있었어. “아리엘! 여기서 뭐 해?” 내가 깜짝 놀라 묻자, 아리엘은 빙긋 웃으며 대답했어. “널 기다렸지.”",
        "“날 기다렸다고? 그럼 쪽지는 왜 준 거야? 그냥 같이 가면 되잖아!” 내가 툴툴거리자 아리엘은 어깨를 으쓱했어. “네가 혼자 여행하는 기분을 느껴보길 바랐거든. 그리고… 내 연구실 위치는 아무나 알면 안 되니까.”",
        "아리엘은 나를 에메랄드 호수 옆에 있는 작은 오두막으로 안내했어. 오두막 안은 온갖 마법 도구와 책들로 가득 차 있었어. “여기가 내 비밀 연구실이야! 어때, 멋지지?” 아리엘은 자랑스러운 표정으로 말했어.",
        "“그래서, 날 왜 불렀어? 혹시 내가 쓸 수 있는 새로운 마법이라도 찾은 거야?” 내가 기대에 찬 눈빛으로 묻자, 아리엘은 고개를 저었어. “아니, 그건 아직이야. 하지만… 네 안에 잠재된 힘을 깨울 수 있는 방법을 찾았어.”",
        "“정말?! 어떻게 하면 되는데?” 내가 흥분해서 묻자, 아리엘은 심각한 표정으로 말했어. “위험할 수도 있어. 잘못하면… 네 진짜 모습을 잃어버릴 수도 있어.”",
        "진짜 모습이라니… 왠지 불안해. 하지만, 지금보다 더 강해질 수 있다면… 고민 끝에 나는 아리엘에게 고개를 끄덕였어. “괜찮아, 아리엘. 난 준비됐어!” 아리엘은 잠시 나를 바라보더니 결심한 듯 입을 열었어. \"좋아, 그럼 지금부터 시작할게. 우선… 이 물약을 마셔.\" 아리엘이 건넨 물약은 기분 나쁜 보랏빛으로 빛나고 있었어. 왠지 마시기 망설여지는데…",
        "물약을 마실지, 아니면 다른 방법을 찾아볼지... 선택해야 할 시간이야!"
      ],
      "choices": [
        {
          "text": "아리엘을 믿고 보랏빛 물약을 마신다.",
          "next_node": "chapter_3"
        },
        {
          "text": "물약 대신 다른 방법을 찾아보자고 아리엘에게 제안한다.",
          "next_node": "chapter_3_b"
        }
      ]
    },
    "chapter_3": {
      "title": "4장: 왕국의 위기 – 마왕 사후 혼란을 틈탄 반란 세력의 등장",
      "image_prompt": "A young woman with black hair, dressed in knightly attire, stands in a throne room. A messenger kneels before her, delivering urgent news. The room is decorated with banners bearing the royal crest, but some are torn and defaced. A sense of urgency and impending doom hangs in the air.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_3-1753237217071.png",
      "content": [
        "꿀꺽… 아리엘이 준 보랏빛 물약을 마셨어. 으으, 마치 썩은 포도를 억지로 삼키는 맛이야! 내 몸에서 이상한 기운이 맴도는 것 같아. “아리엘… 괜찮은 거지? 나, 뭔가 이상해…!” 내가 낑낑거리자 아리엘은 진지한 표정으로 날 바라봤어. “조금만 참아, 카렌. 곧 네 안에 잠재된 힘이 깨어날 거야!”",
        "갑자기 온 세상이 빙글빙글 도는 것 같았어. 으악, 토할 것 같아! 겨우 정신을 차리고 보니, 아리엘의 연구실 천장이 보였어. “카렌, 정신이 들어? 다행이다!” 아리엘이 걱정스러운 얼굴로 내게 물었어. “힘이… 힘이 넘쳐흘러…! 마치 엄청나게 큰 파도가 몰려오는 것 같아!” 내가 숨을 헐떡이며 말했어.",
        "“성공이야! 이제 넌 네 안에 잠재된 힘을 사용할 수 있게 됐어!” 아리엘이 기뻐하며 말했어. 하지만 기쁨도 잠시, 갑자기 문이 쾅! 하고 열리는 소리가 들렸어. “카렌 님! 큰일 났습니다!”",
        "문밖에는 왕국의 기사 한 명이 헐레벌떡 뛰어 들어왔어. 얼굴은 흙빛이고, 갑옷은 여기저기 긁혀 있었어. “반란군이…! 반란군이 왕궁을 공격하고 있습니다!” 기사의 다급한 외침에 아리엘과 나는 깜짝 놀랐어. 반란군이라니, 갑자기 무슨 일이지?",
        "“반란군? 무슨 소리야? 마왕은 내가 쓰러뜨렸잖아! 이제 평화로운 시대가 올 거라고 생각했는데…!” 내가 어이없어하며 말했어. 기사는 고개를 저으며 말했어. “마왕이 사라지자, 왕국 내 권력을 노리는 귀족들이 들고 일어났습니다! 지금 왕궁은 놈들의 손에 넘어갈 위기에 처해있습니다!”",
        "아리엘은 심각한 표정으로 턱을 쓰다듬었어. “마왕이 사라진 틈을 타서 반란을 일으키다니… 꽤나 치밀한 녀석들이군. 카렌, 지금 당장 왕궁으로 돌아가야 해! 네 힘이 필요해!”",
        "왕궁으로 향하는 길은 험난했어. 반란군들은 가는 곳마다 불을 지르고 사람들을 괴롭히고 있었어. “저 녀석들…! 절대 용서 못 해!” 분노에 휩싸인 나는 주먹을 꽉 쥐었어. 지금 내겐 아리엘이 준 힘이 있어! 이 힘으로 왕국을 지켜야 해!",
        "왕궁에 도착했을 때, 상황은 더욱 심각했어. 왕궁 정문은 이미 반란군에게 뚫렸고, 기사들은 필사적으로 싸우고 있었지만 역부족인 것 같았어. 반란군의 우두머리로 보이는 덩치 큰 남자가 칼을 휘두르며 기사들을 쓰러뜨리고 있었어. “크하하! 이제 이 왕국은 내 것이다!”",
        "가레스 단장님도 반란군과 싸우고 있었지만, 왠지 힘이 없어 보였어. “카렌…! 네가 어떻게…” 가레스 단장님은 나를 보고 깜짝 놀란 표정을 지었어. 지금은 설명할 시간이 없어! 나는 반란군을 향해 달려갔어. “거기 꼼짝 마! 너희들, 내가 다 날려버릴 거야!”",
        "반란군 우두머리는 나를 보더니 비웃음을 터뜨렸어. “풋, 꼬맹이가 뭘 할 수 있다고? 덤벼봐라, 꼬마 용사!” 녀석은 칼을 높이 치켜들고 나를 향해 달려왔어. 하지만… 왠지 모르게 두려움이 느껴지지 않아. 내 안의 새로운 힘이 끓어오르고 있어! 나는 녀석을 향해 손을 뻗었어. “후회하게 될 거야…!” 나는 녀석에게 어떤 마법을 써야 할까? 아니면, 다른 방법이 있을까…?"
      ],
      "choices": [
        {
          "text": "새로운 힘을 사용하여 반란군 우두머리를 날려 버린다!",
          "next_node": "chapter_4"
        },
        {
          "text": "가레스 단장님과 협공하여 반란군을 제압한다.",
          "next_node": "chapter_4_b"
        },
        {
          "text": "반란군의 약점을 파악하여 혼란을 틈타 공격한다.",
          "next_node": "chapter_4_c"
        }
      ]
    },
    "chapter_4": {
      "title": "5장: 기사단장 가레스, 재회 – 가레스와 함께 반란 진압에 나서다",
      "image_prompt": "A young woman with black hair, now glowing with magical energy, faces a burly man with a sword in a chaotic throne room. A knight in shining armor stands beside her, looking surprised but ready to fight. The room is filled with battling soldiers and torn banners.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_4-1753237237614.png",
      "content": [
        "“후회하게 될 거야…!” 내가 말하자 반란군 우두머리는 콧방귀를 뀌었어. “겨우 꼬맹이 주제에 뭘 할 수 있다는 거냐! 칼 맛이나 봐라!” 녀석은 엄청나게 큰 칼을 휘둘렀어. 으악, 저걸 맞으면 나는 젤리처럼 뭉개질 거야!",
        "나는 눈을 질끈 감았어. 하지만… 이상하게 무섭지 않았어. 내 안에서 뭔가 뜨거운 기운이 솟아오르는 것 같았어. 마치 탄산음료 병을 흔들었다가 뚜껑을 딴 것처럼 뻥! 하고 터지는 느낌이었어!",
        "“크아아!” 내 입에서 갑자기 이상한 소리가 튀어나왔어. 동시에 내 손에서 파란색 빛이 뿜어져 나왔어! 그 빛은 녀석의 칼을 감싸더니 순식간에 얼려버렸어! 쨍그랑! 칼이 산산이 부서졌어.",
        "반란군 우두머리는 눈이 휘둥그래졌어. “이, 이럴 수가…! 네 녀석, 대체…!” 녀석은 뒷걸음질 쳤어. 마치 커다란 뱀을 본 쥐처럼 겁에 질린 표정이었어.",
        "그때, 가레스 단장님이 내 옆으로 달려왔어. “카렌! 괜찮은 건가? 대체 무슨 일이 있었던 거지?” 나는 어깨를 으쓱하며 말했어. “글쎄요? 저도 잘 모르겠어요. 그냥… 힘이 넘쳐흐르는 것 같아요!”",
        "가레스 단장님은 잠시 나를 빤히 쳐다보더니 고개를 끄덕였어. “지금은 설명할 시간이 없다! 카렌, 자네의 힘이 필요하다! 저 반란군 녀석들을 모두 날려 버리자!” 나는 활짝 웃으며 고개를 끄덕였어. “좋아요, 단장님! 신나게 한바탕 싸워볼까요!”",
        "우리는 함께 반란군을 향해 달려갔어. 나는 손에서 계속 파란색 빛을 뿜어냈고, 가레스 단장님은 칼로 녀석들을 베어 넘겼어. 순식간에 반란군은 우왕좌왕하기 시작했어. 역시, 단장님은 정말 강해! 마치 정의의 번개검 같아!",
        "“단장님, 저 녀석은 제가 맡을게요!” 나는 반란군 우두머리를 가리키며 말했어. 가레스 단장님은 고개를 끄덕였어. “좋다! 하지만 조심하게! 녀석, 보기보다 꽤 강한 녀석이다!”",
        "나는 반란군 우두머리 앞으로 성큼성큼 걸어갔어. 녀석은 이를 부득부득 갈며 나를 노려봤어. “네 녀석…! 감히 내 계획을 망치다니! 용서하지 않겠다!” 녀석은 부러진 칼 대신 바닥에 떨어진 도끼를 집어 들었어. 으악, 도끼라니! 저걸 맞으면 나는 호박엿처럼 쩍 갈라질 거야!",
        "녀석은 도끼를 높이 치켜들고 나를 향해 달려왔어. 하지만… 왠지 모르게 녀석의 움직임이 느려 보이는 것 같았어. 마치 슬로우 모션처럼 느껴졌어. 그때, 내 머릿속에 이상한 생각이 떠올랐어. ‘어쩌면… 저 녀석의 약점을 알고 있는 건 아닐까?’ 나는 녀석의 눈을 똑바로 쳐다봤어. 녀석의 눈은… 불안함으로 가득 차 있었어! 나는 씨익 웃으며 녀석에게 말했어. “네 녀석, 사실은 엄청 겁먹고 있지?”"
      ],
      "choices": [
        {
          "text": "새로운 힘을 사용하여 반란군 우두머리의 약점을 파고든다!",
          "next_node": "chapter_5"
        },
        {
          "text": "가레스 단장님에게 도움을 요청하여 함께 반란군 우두머리를 쓰러뜨린다.",
          "next_node": "chapter_4_b"
        },
        {
          "text": "일단 후퇴하여 반란군 우두머리의 공격 패턴을 파악한다.",
          "next_node": "chapter_4_c"
        }
      ]
    },
    "chapter_5": {
      "title": "6장: 숨겨진 음모 – 반란의 배후에 도사린 검은 그림자",
      "image_prompt": "A young woman with black hair, glowing with magical energy, stands defiantly in a throne room, facing a shadowy figure cloaked in darkness. Knight stands nearby, looking concerned. The throne room is dimly lit, with gothic architecture casting long shadows.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_5-1753237257971.png",
      "content": [
        "“네 녀석, 사실은 엄청 겁먹고 있지?” 내가 반란군 우두머리에게 깐족거렸어. 그러자 녀석의 얼굴이 시뻘겋게 변했어. 마치 잘 익은 사과 같았지! “닥쳐라! 내가… 내가 왜 겁을 먹어야 하지?!” 녀석은 도끼를 부들부들 떨면서 휘둘렀어. 폼은 엄청 그럴싸했지만, 어쩐지 힘이 하나도 안 느껴졌어.",
        "나는 피식 웃었어. “글쎄? 네 눈을 보면 다 알 수 있거든. 넌… 실패할까 봐, 사람들이 널 비웃을까 봐, 엄청나게 두려워하고 있잖아!” 내 말에 녀석은 멈칫했어. 마치 누가 뿅망치로 뒤통수를 때린 것처럼 멍해 보였지.",
        "“그, 그럴 리가…! 나는…!” 녀석은 말을 더듬었어. 바로 그때였어! 녀석의 뒤에서 검은 그림자가 스르륵 나타났어. 으악, 저건 또 뭐야?! 마치 콜라 젤리처럼 끈적끈적해 보이는 그림자였어.",
        "그림자는 녀석의 어깨에 손을 얹더니 뭔가 속삭였어. 녀석의 눈이 순간 붉게 빛났어! “크아아! 시끄러! 나는 실패하지 않아! 반드시… 반드시 왕국을 차지할 거다!” 녀석은 다시 씩씩거리며 도끼를 휘둘렀어. 하지만… 뭔가 이상했어. 녀석의 움직임이 훨씬 더 빨라지고, 힘도 훨씬 더 세진 것 같았어!",
        "가레스 단장님이 걱정스러운 표정으로 나를 바라봤어. “카렌! 조심하게! 녀석, 뭔가 이상해졌어!” 나는 고개를 끄덕였어. “네, 단장님! 저도 느껴져요! 뭔가… 엄청나게 찝찝한 기운이 느껴져요!”",
        "나는 손에서 파란색 빛을 더욱 강하게 뿜어냈어. 내 안의 마력이 퐁퐁 솟아오르는 것 같았지. 하지만… 왠지 모르게 불안했어. 저 검은 그림자가 자꾸 신경 쓰였어. 대체 저건 뭘까? 그리고 왜 저 녀석에게 힘을 주고 있는 걸까?",
        "반란군 우두머리는 도끼를 휘두르며 맹렬하게 공격해 왔어. 나는 가까스로 피하면서 녀석의 공격을 막아냈어. 쨍! 쨍! 도끼와 내 마법의 빛이 부딪힐 때마다 엄청난 소리가 울려 퍼졌어. 마치 냄비 뚜껑 두 개를 마구 부딪히는 소리 같았지!",
        "“단장님! 저 녀석 뒤에 있는 검은 그림자, 뭔가 이상해요!” 나는 소리쳤어. 가레스 단장님은 잠시 검은 그림자를 쳐다보더니 깜짝 놀란 표정을 지었어. “저건…! 설마… 마족의 기운?!” 마족?! 마족이라니, 갑자기 엄청나게 복잡해졌잖아!",
        "그때, 아리엘이 생각났어. 아리엘은 지금 비밀 연구를 하고 있다고 했지. 혹시… 아리엘이라면 이 상황에 대해 뭔가 알고 있을지도 몰라. 하지만… 지금 아리엘에게 연락할 방법이 없잖아! 어떻게 해야 하지?",
        "반란군 우두머리가 다시 도끼를 휘둘렀어. 이번에는 피할 수 없을 것 같았어! 으악, 큰일 났다! 바로 그때, 내 머릿속에 또 다른 생각이 떠올랐어. ‘어쩌면… 저 검은 그림자를 없앨 방법이 있을지도 몰라!’ 나는 눈을 감고 내 안의 마력을 집중했어. 그리고… 검은 그림자를 향해 힘껏 외쳤어. “저리 썩 꺼져!” 하지만… 아무 일도 일어나지 않았어. 젠장! 어떡하지…?"
      ],
      "choices": [
        {
          "text": "새로운 힘을 사용해 검은 그림자를 없애고, 반란을 진압한다!",
          "next_node": "chapter_6"
        },
        {
          "text": "가레스 단장님과 함께 반란군을 막으면서, 아리엘에게 연락할 방법을 찾는다.",
          "next_node": "chapter_5_b"
        },
        {
          "text": "일단 후퇴하여 상황을 파악하고, 아리엘에게 도움을 요청할 방법을 모색한다.",
          "next_node": "chapter_5_c"
        }
      ]
    },
    "chapter_6": {
      "title": "7장: 고대 유적 탐험 – 원래 모습으로 돌아가기 위한 단서 찾기",
      "image_prompt": "A young woman with long black hair, wearing adventurer's clothes, stands in front of a crumbling stone archway overgrown with vines. A blonde knight and a young woman with glasses are behind her, looking apprehensive. The archway leads into a dark and mysterious ancient ruin, with glowing runes visible on the stones.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_6-1753237275325.png",
      "content": [
        "으아, 머리 아파! 어젯밤에 그 끈적거리는 그림자 때문에 잠을 설쳤더니 완전 멍해. 게다가 가레스 단장님은 계속 마족 타령만 하시고! 아리엘은 또 무슨 비밀 연구를 하는 건지… 진짜 궁금해 죽겠네!",
        "“카렌, 괜찮아? 안색이 안 좋아 보이는데.” 아리엘이 걱정스러운 얼굴로 물어봤어. 역시 내 걱정은 아리엘밖에 없다니까! “응, 괜찮아! 그냥… 좀 피곤해서 그래.” 내가 씩씩하게 대답했어. 거짓말은 아니야! 조금 피곤한 것뿐이니까!",
        "“우리가 향하는 고대 유적에는 강력한 마법이 걸려 있을지도 몰라. 조심해야 해.” 가레스 단장님이 근엄한 목소리로 말했어. 으… 단장님, 또 시작이시네. “네, 단장님! 알겠습니다!” 나는 최대한 밝게 대답했어. 어휴, 마족 얘기만 안 하면 참 좋을 텐데.",
        "드디어 고대 유적 입구에 도착했어! 낡은 돌덩이들이 엉성하게 쌓여 있었고, 덩굴들이 마구 휘감고 있었어. 왠지 모르게 으스스한 기분이 들었어. 마치 유령이라도 튀어나올 것 같은 분위기였지!",
        "“자, 다들 조심해! 무슨 일이 생길지 모르니 항상 경계를 늦추지 않도록!” 가레스 단장님이 칼을 뽑아 들고 앞장섰어. 단장님, 완전 멋있어! …물론 마족 얘기만 빼면 말이지.",
        "유적 안으로 들어가자, 퀴퀴한 냄새가 코를 찔렀어. 어두컴컴해서 앞이 잘 보이지 않았지만, 벽에 새겨진 이상한 그림들이 희미하게 빛나고 있었어. “저 그림들은… 고대 문자 같아요! 혹시 무슨 뜻인지 아세요, 아리엘?” 내가 물어봤어.",
        "아리엘은 안경을 고쳐 쓰더니 벽에 바싹 다가가 그림들을 살펴봤어. “음… 이건… 마나의 흐름을 나타내는 지도 같아요! 이 유적 어딘가에 엄청난 마력이 숨겨져 있다는 뜻이겠죠?” 아리엘의 눈이 반짝반짝 빛났어. 역시 아리엘은 똑똑해!",
        "“좋아! 그럼 그 마력을 찾아서 내 원래 모습을 되찾을 방법을 알아내자!” 내가 주먹을 불끈 쥐었어. “가자! 아자아자!”",
        "우리는 조심스럽게 유적 안을 탐험하기 시작했어. 그러던 중, 갑자기 땅이 푹 꺼지면서 우리는 지하로 떨어지고 말았어! 으악!",
        "정신을 차려보니, 우리는 커다란 지하 동굴 안에 갇혀 있었어. 천장에는 반짝이는 수정들이 매달려 있었고, 바닥에는 끈적끈적한 액체가 고여 있었어. 그리고… 동굴 한가운데에는 거대한 석상이 놓여 있었어. 석상은 왠지 모르게 슬픈 표정을 짓고 있는 것 같았지. 그런데 석상 앞에서, 낯익은 뒷모습이 보였어. 설마… 아리엘?!"
      ],
      "choices": [
        {
          "text": "석상 앞으로 다가가 아리엘에게 무슨 일이냐고 물어본다.",
          "next_node": "chapter_7"
        },
        {
          "text": "일단 주변을 탐색하며 함정이 있는지 확인한다.",
          "next_node": "chapter_7_b"
        }
      ]
    },
    "chapter_7": {
      "title": "8장: 봉인된 마력 – 미소녀 용사로서의 힘을 각성하다",
      "image_prompt": "A young woman with long black hair (formerly a young man) looks in shock at a blonde woman standing before a large, glowing statue in a cavern. The blonde woman is surrounded by swirling magical energy. A knight in shining armor stands behind the black-haired woman, looking worried. The cavern is lit by glowing crystals in the ceiling.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_7-1753237292439.png",
      "content": [
        "어… 어라? 아리엘? 여기서 뭐 하는 거야? 아까 분명히 같이 떨어졌는데… 언제 석상 앞으로 간 거지? 게다가… 왜 이렇게 반짝거리는 거야?!",
        "“아리엘! 무슨 일이야? 괜찮아?!” 내가 소리쳤어. 하지만 아리엘은 대답이 없었어. 마치 꿈속을 헤매는 사람처럼 멍하니 석상만 바라보고 있었지. 으… 불안해!",
        "“카렌! 조심해! 저 석상에서 엄청난 마력이 느껴진다!” 가레스 단장님이 칼을 뽑아 들고 외쳤어. 역시 단장님은 눈치가 빨라! 하지만… 너무 늦었어!",
        "갑자기 석상이 엄청난 빛을 내뿜더니, 아리엘을 감쌌어! 으아! 눈이 부셔! 마치 햇님이 내 뺨을 마구 찌르는 것 같았어! 아리엘은 더욱 강렬하게 빛나기 시작했고, 주변 공기가 찌릿찌릿 떨리는 게 느껴졌어.",
        "“크… 카렌… 도망쳐…” 아리엘이 힘겹게 속삭였어. 하지만 나는 도망칠 수 없었어. 아리엘을 두고 갈 수 없으니까! 게다가… 왠지 모르게 몸이 움직여지지 않았어.",
        "빛이 점점 강해지면서, 내 몸 안에서 뜨거운 기운이 솟아오르는 게 느껴졌어. 마치 용암이 뱃속에서 부글부글 끓는 것 같았지! 으아아! 이거… 뭐지?!",
        "“카렌! 정신 차려! 네 안의 마족의 기운이 폭주하고 있어!” 가레스 단장님이 다급하게 외쳤어. 마… 마족의 기운?! 내가 마족이라니! 말도 안 돼!",
        "내 몸에서 검은 연기가 뿜어져 나오기 시작했어. 으… 끈적끈적하고 기분 나쁜 느낌이야! 하지만… 동시에 엄청난 힘이 느껴졌어. 마치 슈퍼 히어로가 된 기분이었지!",
        "“이 힘… 뭐지?!” 내가 중얼거렸어. 그러자 내 안에서 누군가가 대답하는 것 같았어. ‘미소녀 용사… 봉인된 힘을… 해방하라…’ 으… 누가 말하는 거야?!",
        "갑자기 내 눈앞에 빛이 번쩍이더니, 새로운 힘이 솟아오르는 것을 느꼈어! 이전과는 전혀 다른… 미소녀 용사로서의 진정한 힘! 하지만… 동시에 아리엘에게 뻗어 나가려는 검은 기운이 보였어! 이대로 두면 아리엘이 위험해!",
        "나는 용사의 검을 꽉 움켜쥐었어. 지금의 나는… 마족의 기운에 잠식된 미소녀 용사! 과연 나는 이 힘을 제대로 사용할 수 있을까? 그리고… 아리엘을 구할 수 있을까?"
      ],
      "choices": [
        {
          "text": "새로운 힘을 사용하여 아리엘을 덮치려는 검은 기운을 막는다!",
          "next_node": "chapter_8"
        },
        {
          "text": "아직 힘을 제어하지 못하므로, 일단 가레스 단장님과 함께 동굴 밖으로 후퇴한다.",
          "next_node": "chapter_8_b"
        }
      ]
    },
    "chapter_8": {
      "title": "9장: 폭주하는 힘, 깨어나는 용사",
      "image_prompt": "A young woman with long black hair, glowing with a bright aura, raises a sword towards dark shadowy figures swirling around a blonde woman lying on the ground. A knight in shining armor stands ready to fight, looking uncertain. The cavern is dimly lit, with crystals casting eerie shadows.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_8-1753238271928.png",
      "content": [
        "으아아! 몸에서 뿜어져 나오는 이 엄청난 힘! 마치 온몸에 솜사탕이 뭉쳐져 있는 것 같아! 달콤하고 부드럽지만… 너무 강렬해! 눈을 떠보니, 아리엘 주변에 끈적끈적한 검은 그림자들이 꿈틀거리고 있었어. 안 돼! 아리엘을 잡아먹으려고 해!",
        "“훠이훠이! 나쁜 그림자들은 저리 가!” 나는 용사의 검을 높이 치켜들었어. 그러자 검에서 눈부신 빛이 뿜어져 나오면서, 검은 그림자들을 쫓아내기 시작했어. 마치 햇빛에 녹아내리는 눈사람 같았지!",
        "“카렌! 조심해! 네 힘을 너무 많이 쓰면…!” 가레스 단장님이 걱정스러운 얼굴로 소리쳤어. 하지만 지금은 아리엘을 구하는 게 먼저야! 내 안에 있는 미소녀 용사의 힘이 끓어오르는 것 같았어!",
        "나는 검을 휘둘러 검은 그림자들을 베어냈어. 슉! 슉! 솜사탕 베는 소리… 는 아니고, 뭔가 끈적한 게 잘리는 느낌이었어. 으… 기분 나빠!",
        "“흐… 카렌… 고마워…” 아리엘이 희미하게 속삭였어. 아, 다행이다! 아직 정신을 잃지 않았어! 하지만… 검은 그림자들이 점점 더 많이 몰려오고 있었어. 마치 파도처럼!",
        "갑자기 내 머릿속에 누군가의 목소리가 들려왔어. ‘미소녀 용사… 어둠을 정화하고… 빛을…!’ 으… 또 시작이야? 누가 자꾸 내 귓속에 속삭이는 거야?!",
        "“시끄러워요! 지금 엄청 바쁘거든요?!” 나는 소리쳤어. 그러자 내 검에서 더 강렬한 빛이 뿜어져 나오면서, 검은 그림자들을 한꺼번에 날려 버렸어! 와! 신기해!",
        "가레스 단장님이 놀란 눈으로 나를 바라봤어. “카렌… 네 안에 잠들어 있던 진정한 용사의 힘이 깨어난 것 같군… 하지만… 아직 불안정해. 조심해야 한다.” 으… 불안정하다니, 무슨 뜻이지?",
        "아리엘이 힘겹게 몸을 일으켰어. “카렌… 고마워… 하지만… 이 동굴… 뭔가 이상해… 더 깊숙한 곳에서… 강력한 마력이 느껴져…”",
        "아리엘의 말이 끝나자마자, 동굴 전체가 쿵! 쿵! 울리기 시작했어. 마치 거대한 심장이 뛰는 것처럼! 그리고… 동굴 깊숙한 곳에서 엄청나게 강력한 마족의 기운이 느껴졌어! 설마… 아직 마왕의 잔재가 남아있는 건가?!"
      ],
      "choices": [
        {
          "text": "아리엘과 가레스 단장님과 함께 동굴 깊숙한 곳으로 향한다! 마족의 기운을 조사해야 해!",
          "next_node": "chapter_9"
        },
        {
          "text": "아직 힘이 불안정하므로, 일단 동굴 밖으로 나가서 상황을 정리한 후 다시 돌아온다.",
          "next_node": "chapter_9_b"
        }
      ]
    },
    "chapter_9": {
      "title": "10장: 아리엘의 각성, 봉인된 기억",
      "image_prompt": "A young woman with long black hair and a determined expression, her sword glowing faintly, stands beside a blonde woman whose eyes are glowing with magical energy. A knight in shining armor looks on with concern, his hand resting on his sword hilt. The cavern walls are covered in glowing runes, with a dark, ominous passage leading deeper into the earth.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_9-1753238289176.png",
      "content": [
        "쿵! 쿵! 쿵! 동굴이 심장이 뛰는 것처럼 울려댔어. 으악, 무서워! 마치 내 뱃속에 거대한 북이 들어있는 것 같았지. \"카렌, 조심해!\" 가레스 단장님이 외쳤어. \"저 마족의 기운… 심상치 않아!\"",
        "\"알아요, 단장님!\" 나는 용사의 검을 꽉 쥐었어. 검에서도 왠지 모르게 불안한 기운이 느껴졌어. 마치 꼬리 아홉 개 달린 강아지가 낑낑거리는 것 같았지. \"아리엘, 괜찮아?\"",
        "아리엘은 눈을 감고 있었어. 그러더니 갑자기 눈을 번쩍 뜨는 거야! 그런데 눈에서 파란색 불꽃이 활활 타오르고 있었어! \"카렌… 느껴져… 봉인된… 기억…\"",
        "봉인된 기억? 그게 뭔데? 갑자기 퀴즈 시간이라도 된 거야? \"아리엘, 지금 퀴즈 풀 기분 아니거든?\" 나는 속으로 생각했어. 하지만 아리엘의 표정은 너무나 진지했어.",
        "\"이 동굴… 아주 오래전… 마족과의 전쟁… 봉인된… 힘…\" 아리엘이 띄엄띄엄 말했어. 마치 로봇처럼 딱딱 끊어지는 말투였지. 으스스해!",
        "갑자기 아리엘의 몸에서 엄청난 마력이 뿜어져 나오기 시작했어! 으악, 눈이 부셔! 마치 백만 볼트짜리 전구 100개가 동시에 터지는 것 같았어! \"아리엘! 정신 차려!\"",
        "아리엘은 괴로운 듯 신음했어. \"카렌… 막아줘… 이 힘… 너무 강해… 나를… 집어삼키려고… 해…\"",
        "나는 용사의 검을 높이 치켜들었어. \"안 돼, 아리엘! 내가 널 지켜줄게! 미소녀 용사의 이름으로!\" 검에서 뿜어져 나오는 빛이 아리엘을 감쌌어. 마치 따뜻한 담요처럼!",
        "하지만 아리엘의 마력은 점점 더 강해졌어. 마치 댐이 무너지기 직전처럼 불안하게 흔들렸지. \"카렌… 이대로는… 안 돼… 동굴… 더 깊은 곳에… 봉인을… 풀어야 해…\"",
        "\"뭐? 봉인을 풀라고? 미쳤어? 거기에 뭐가 있을 줄 알고!\" 나는 소리쳤어. 하지만 아리엘의 눈빛은 너무나 간절했어. 젠장… 어쩌지? 이대로 아리엘을 놔둘 수도 없고…"
      ],
      "choices": [
        {
          "text": "아리엘을 믿고, 동굴 깊숙한 곳으로 향한다! 봉인을 풀어서 아리엘을 구해야 해!",
          "next_node": "chapter_10"
        },
        {
          "text": "너무 위험해! 아리엘을 데리고 동굴 밖으로 나간 후, 안전한 곳에서 방법을 찾아본다.",
          "next_node": "chapter_10_b"
        }
      ]
    },
    "chapter_10": {
      "title": "11장: 마족의 그림자, 숨겨진 배후",
      "image_prompt": "A young woman with long blonde hair, glowing with magical energy, stands before a dark passage in a cavern. A female knight with short pink hair looks at her with concern, her sword held ready. Shadows seem to swirl in the passage, hinting at a hidden presence.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_10-1753238308537.png",
      "content": [
        "\"좋아, 좋아!\" 나는 용사의 검을 더 꽉 쥐었어. 아리엘이 봉인을 풀어야 한다면, 나도 용기를 내야지! \"가레스 단장님, 아리엘을 부탁해요! 저는 앞장서서 길을 뚫을게요!\"",
        "가레스 단장님은 걱정스러운 얼굴로 나를 바라봤어. \"카렌, 조심해야 한다! 저 동굴 안에는 무슨 함정이 있을지 몰라! 게다가… 마족의 기운이 점점 더 강해지고 있어!\"",
        "나는 고개를 끄덕였어. \"알아요, 단장님! 하지만 아리엘을 구할 수 있다면…!\" 나는 용사의 검을 앞으로 뻗으며 동굴 안으로 성큼성큼 걸어 들어갔어. 으악, 너무 어두워!",
        "동굴 안은 밖보다 훨씬 더 어두웠어. 게다가 끈적끈적하고 축축한 기운이 감돌았지. 마치 거대한 지렁이 뱃속에 들어온 기분이었어. \"으… 찝찝해…\"",
        "\"카렌!\" 뒤에서 아리엘이 나를 불렀어. \"오른쪽 벽을 따라가! 거기에 봉인을 풀 수 있는 장치가 있을 거야!\"",
        "나는 아리엘의 말대로 오른쪽 벽을 더듬더듬 만져봤어. 그러자 차가운 돌덩이 하나가 손에 잡혔지. \"찾았다! 이거 맞지, 아리엘?\"",
        "\"그래! 그걸… 힘껏 눌러!\" 아리엘이 힘겹게 말했어. 나는 숨을 크게 쉬고 돌덩이를 꾹 눌렀어. 그러자 갑자기 동굴 전체가 덜컹 흔들리기 시작했어!",
        "\"우와! 지진이다!\" 나는 소리쳤어. 하지만 지진은 금방 멈췄어. 대신, 내 눈앞에 믿을 수 없는 광경이 펼쳐졌지. 동굴 벽이 갈라지면서, 거대한 석상이 모습을 드러낸 거야!",
        "석상은 험악한 얼굴을 하고 있었어. 온몸에는 징그러운 문신이 새겨져 있었고, 눈에서는 섬뜩한 붉은 빛이 뿜어져 나왔지. \"저건…! 마족의 신상…?\"",
        "갑자기 석상이 움직이기 시작했어! 으악, 무서워! 석상의 입이 쩍 벌어지더니, 귓속을 간지럽히는 목소리가 들려왔어. \"오랜만이군… 용사여… 아니, 이제는 미소녀라고 해야 하나?\"",
        "나는 용사의 검을 꽉 쥐었어. \"누구냐! 정체를 밝혀라!\"",
        "석상은 껄껄 웃었어. \"나는… 너희가 잊고 있었던… 진정한 적이다… 그리고… 아리엘… 그 아이는… 내 가장 훌륭한 작품이지…\"",
        "\"뭐라고?\" 나는 깜짝 놀랐어. 아리엘이… 마족의 작품이라고? 말도 안 돼!",
        "그때, 아리엘이 괴로운 듯 신음했어. \"카렌… 도망쳐…! 저 녀석은… 위험해…!\"",
        "\"도망치라고?\" 나는 아리엘을 돌아봤어. 아리엘의 눈은 다시 파란색 불꽃으로 타오르고 있었어. 하지만 이번에는… 슬픔과 고통으로 가득 차 있었지. \"아니, 아리엘! 내가 널 구할 거야!\"",
        "\"카렌… 늦었어… 이미… 시작됐어… 내 안의… 마족의 힘이… 깨어나고 있어… 이제… 나는…\"",
        "아리엘의 말이 끝나기도 전에, 석상에서 검은 그림자가 튀어나와 아리엘을 덮쳤어! 으악!",
        "\"크하하하! 이제… 아리엘은… 내 것이다!\"",
        "나는 용사의 검을 높이 치켜들었어. \"안 돼! 아리엘을 돌려줘!\"",
        "그러자 석상이 비웃듯이 말했어. \"좋다… 그렇다면… 게임을 시작해볼까? 네가… 진실을 알 자격이 있는지… 시험해주마… 선택해라… 눈 앞에 보이는 거울 조각들을 전부 부수면 아리엘을 구할 수 있지만, 넌 영원히 원래 모습으로 돌아갈 수 없게 된다… 아니면… 아리엘을 포기하고… 원래 모습으로 돌아갈 기회를 잡을 수도 있지… 자… 선택은… 너의 몫이다!\""
      ],
      "choices": [
        {
          "text": "모든 거울 조각을 부수고 아리엘을 구한다! 원래 모습으로 돌아가지 못해도 상관없어!",
          "next_node": "chapter_11"
        },
        {
          "text": "아리엘을 포기하고 원래 모습으로 돌아갈 기회를 잡는다. 세상을 구하려면 원래 모습으로 돌아가는 게 먼저야!",
          "next_node": "chapter_11_b"
        },
        {
          "text": "일단 시간을 벌기 위해 석상과 대화하며 정보를 캐낸다. 섣불리 결정할 수는 없어!",
          "next_node": "chapter_11_c"
        }
      ]
    },
    "chapter_11": {
      "title": "12장: 고대 유적, 시험의 문턱",
      "image_prompt": "A young woman with short blonde hair, wearing shining armor, stands in a cavern filled with shattered mirror shards. Before her, a dark, looming statue emanates shadowy tendrils towards a pink-haired knight who is struggling against the darkness. The blonde woman looks conflicted, holding a glowing sword in her hand.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_11-1753238325529.png",
      "content": [
        "\"으아아!\" 나는 석상의 말에 머리가 핑 돌았어. 거울 조각을 부수면 아리엘을 구할 수 있지만, 원래 모습으로 돌아갈 수 없다고? 세상에, 너무 어려운 선택이잖아!",
        "\"카렌, 정신 차려!\" 가레스 단장님이 소리쳤어. 하지만 단장님의 목소리도 어딘가 이상했어. 왠지 힘이 없어 보였지. \"저 석상은… 놈은… 속삭임으로 사람을 홀리는 존재야!\"",
        "나는 용사의 검을 꽉 쥐었어. \"속삭임? 그게 뭔데요? 맛있는 과자 이름 같아요!\"",
        "\"아니, 그런 게 아니야!\" 가레스 단장님이 답답한 듯 소리쳤어. \"저 녀석은… 가장 원하는 것을 보여주면서… 널 유혹할 거야!\"",
        "석상이 껄껄 웃었어. \"정답! 꼬마 용사, 제법인데? 그래, 나는 네가 가장 원하는 것을 줄 수 있지. 영원히 아름다운 미소녀로 살거나… 아니면, 원래의 멋진 용사로 돌아가거나… 선택은 네 몫이다!\"",
        "내 마음속에서 천사와 악마가 싸우는 것 같았어. (천사) '아리엘을 구해야 해! 친구를 버릴 수는 없어!' (악마) '하지만 원래 모습으로 돌아가는 것도 중요하잖아! 용사는 세상을 구해야 한다고!'",
        "\"단장님… 저는 어떻게 해야 할까요?\" 나는 눈물을 글썽이며 가레스 단장님께 물었어. 단장님은 잠시 망설이더니, 결심한 듯 입을 열었어. \"카렌… 네 마음이 이끄는 대로 해. 하지만… 후회는 남기지 마…\"",
        "그때, 아리엘이 괴로운 듯 신음했어. \"카… 카렌… 빨리… 해…! 더 이상… 버틸 수… 없어…!\"",
        "나는 눈을 질끈 감았다가 번쩍 떴어. \"결정했어요! 저는… 아리엘을 구할 거예요! 원래 모습으로 돌아가지 못해도… 괜찮아요!\"",
        "석상은 흥미롭다는 듯 낄낄 웃었어. \"오호? 정말 후회하지 않겠나? 좋다… 그렇다면… 시작해볼까? 하지만… 조심해라… 거울 조각을 부수는 순간… 네 안의 힘이… 폭주할 수도 있다…!\""
      ],
      "choices": [
        {
          "text": "모든 거울 조각을 부수고 아리엘을 구한다! 내 안에 힘이 폭주해도 상관없어!",
          "next_node": "chapter_12"
        },
        {
          "text": "일단 아리엘과 석상을 설득해본다. 무턱대고 힘을 쓰는 것보다 대화로 해결하는 게 좋을지도 몰라!",
          "next_node": "chapter_11_b"
        },
        {
          "text": "가레스 단장님을 깨워서 도움을 요청한다. 단장님이라면 좋은 방법을 알고 있을 거야!",
          "next_node": "chapter_11_c"
        }
      ]
    },
    "chapter_12": {
      "title": "13장: 인간과 마족, 엇갈리는 운명",
      "image_prompt": "A blonde knight, now a young woman, stands before a room filled with shattered mirror shards, her sword raised. A pink-haired knight is surrounded by dark energy tendrils emanating from a shadowy statue. The blonde knight is glowing with unstable magical power, determination etched on her face.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_12-1753238341079.png",
      "content": [
        "좋아, 결심했어! 나는 있는 힘껏 용사의 검을 휘둘러서 거울 조각들을 박살 내기 시작했어. 쨍그랑! 쨍그랑! 거울들이 부서지는 소리가 마치 슬픈 노래처럼 들렸어.",
        "\"카렌! 안 돼!\" 아리엘이 힘겹게 소리쳤어. 아리엘의 몸을 감싸고 있던 검은 기운이 점점 더 짙어지는 것 같았어. 큰일이다, 서둘러야 해!",
        "마지막 거울 조각을 부수는 순간, 내 안에서 엄청난 힘이 솟아오르는 게 느껴졌어. 마치 몸속에 거대한 불덩이가 들어있는 것 같았지. \"으아아아!\"",
        "\"카렌! 조심해! 네 안의 힘이 폭주하고 있어!\" 가레스 단장님이 다급하게 외쳤어. 하지만 단장님의 목소리는 점점 더 작아지고, 왠지 모르게 멍해 보이는 표정이었어.",
        "내 몸에서 뿜어져 나오는 빛이 너무 강렬해서 눈을 뜰 수가 없었어. '이대로… 사라지는 건가…?'",
        "\"포기하지 마, 카렌!\" 어디선가 아리엘의 목소리가 들려왔어. \"네 안에는… 인간과 마족, 두 가지 힘이 모두 있어! 그 힘을… 긍정해야 해!\"",
        "인간과 마족의 힘…? 내가 마족의 힘을 가지고 있다니, 말도 안 돼! 하지만 아리엘의 말이 맞았어. 내 안에는 분명히… 뭔가 이상한 힘이 느껴졌지.",
        "나는 눈을 질끈 감고, 내 안의 힘을 받아들이려고 노력했어. 인간의 용기와 정의감, 그리고 마족의… 끈기와 생존력? 그래, 어쩌면… 이 두 가지 힘을 합치면…!",
        "내 몸을 감싸고 있던 빛이 점점 잦아들고, 나는 다시 눈을 뜰 수 있었어. 내 손에는… 용사의 검과 함께, 검은색 기운이 감도는 단검이 들려 있었어! \"이건… 대체…?\"",
        "바로 그때, 석상이 섬뜩하게 웃었어. \"호오… 꼬마 용사, 제법인데? 인간과 마족의 힘을 모두 다루다니… 흥미로워. 하지만… 그걸 제대로 다룰 수 있을까? 곧 알게 되겠지… 낄낄낄…\" 석상의 몸에서 검은 기운이 뿜어져 나오며, 아리엘을 완전히 감싸버렸어! 아리엘의 눈이 붉게 빛나면서, 나를 노려봤어. \"카렌… 죽어라…!\""
      ],
      "choices": [
        {
          "text": "용사의 검과 마족의 단검, 두 개의 검으로 아리엘에게 맞선다!",
          "next_node": "chapter_13"
        },
        {
          "text": "가레스 단장님을 흔들어 깨워서 아리엘을 진정시킬 방법을 찾아본다.",
          "next_node": "chapter_12_b"
        }
      ]
    },
    "chapter_13": {
      "title": "14장: 선택의 기로, 카일의 결심",
      "image_prompt": "A young woman with black hair, wielding a glowing sword in one hand and a dark dagger in the other, faces a pink-haired knight with glowing red eyes surrounded by dark energy. A grey-haired knight is in the background, clutching his head in confusion.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_13-1753238357314.png",
      "content": [
        "\"카렌… 죽어라…!\" 붉은 눈의 아리엘이 으르렁거렸어. 맙소사, 아리엘이 완전히 마족의 힘에 먹혀버린 것 같아! 내 손에는 용사의 검이랑… 정체불명의 검은 단검이 들려 있었어. 이걸 어떻게 써야 하는 거지?",
        "\"아리엘! 정신 차려! 내가 누군지 잊은 거야?\" 나는 용사의 검을 꽉 쥐고 소리쳤어. 하지만 아리엘은 대답 대신, 검은 기운으로 만들어진 칼날을 휘둘렀어! 으악, 엄청 빨라!",
        "다행히 용사의 검으로 막아냈지만, 검은 단검은… 왠지 모르게 쓰기가 무서웠어. \"카렌! 그 검은 단검… 위험해!\" 가레스 단장님이 비틀거리면서 외쳤어. 단장님, 괜찮으세요? 석상의 속삭임 때문에 정신이 혼미하신 것 같았어.",
        "\"흥, 시끄러워!\" 아리엘이 짜증스럽게 소리쳤어. \"이제 방해꾼은 필요 없어! 카렌, 널 쓰러뜨리고… 세상을 혼돈으로 물들일 거야!\"",
        "나는 이를 악물었어. 아리엘을 구해야 해… 그리고 세상을 혼돈으로부터 지켜야 해! \"미안해, 아리엘… 하지만, 여기서 멈추게 하겠어!\" 용사의 검을 높이 치켜들고, 나는 아리엘에게 달려들었어!",
        "쨍! 쨍! 용사의 검과 검은 기운 칼날이 부딪히는 소리가 쉴 새 없이 울려 퍼졌어. 아리엘은 엄청나게 강해졌지만… 나도 지지 않아! 내 안에는 인간과 마족, 두 가지 힘이 모두 있으니까!",
        "그러다 문득, 검은 단검이 꿈틀거리는 느낌이 들었어. 마치… 나에게 사용해 달라고 속삭이는 것 같았지. '이걸… 써야 하는 걸까?' 왠지 모르게, 이 단검을 쓰면… 위험한 일이 벌어질 것 같았어.",
        "내 안에서 갈등이 시작됐어. 인간의 힘으로 아리엘을 구할 수 있을까? 아니면… 마족의 힘을 빌려야 하는 걸까? 하지만 마족의 힘은… 너무나 위험해!",
        "나는 잠시 검을 멈추고 고민에 빠졌어. 이대로 인간의 힘만으로 싸울 것인가, 아니면… 금단의 힘에 손을 댈 것인가…",
        "\"카렌! 멍청하게 서 있지 말고, 덤벼!\" 아리엘이 붉은 눈으로 나를 노려봤어. 선택의 시간은… 얼마 남지 않았어!"
      ],
      "choices": [
        {
          "text": "용사의 검만을 사용하여, 아리엘을 인간의 힘으로 되돌리기로 결심한다!",
          "next_node": "chapter_14"
        },
        {
          "text": "검은 단검의 힘을 빌려, 아리엘을 마족의 힘으로부터 해방시킨다!",
          "next_node": "chapter_14_b"
        }
      ]
    },
    "chapter_14": {
      "title": "15장: 균열의 시작, 평화의 위협",
      "image_prompt": "A black-haired young woman with determined eyes clashes swords with a pink-haired knight engulfed in dark energy in a gothic castle courtyard. A grey-haired knight struggles against an unseen force in the background, near a crumbling stone statue. Magical energy crackles in the air.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_14-1753238372745.png",
      "content": [
        "\"으아아!\" 나는 용사의 검을 휘둘렀어. 아리엘의 검은 기운 칼날은 정말이지 끈질겼어. 쨍, 쨍! 칼 부딪히는 소리가 머리를 울렸지. 아리엘은 점점 더 몬스터처럼 변해갔어. 붉은 눈은 더 짙어졌고, 입가에는 날카로운 이빨이 돋아났어.",
        "\"카렌, 넌 아직도 희망을 버리지 않은 거냐?\" 아리엘이 낄낄 웃었어. \"어리석은! 이 힘만이 진정한 자유를 가져다 줄 뿐이야!\"",
        "\"아니야, 아리엘! 그건 네 진짜 모습이 아니잖아!\" 나는 있는 힘껏 소리쳤어. 하지만 아리엘은 듣지 않는 것 같았어. 오히려 더 강하게 검을 휘둘렀지. 으악!",
        "그때, 뒤에서 가레스 단장님의 신음 소리가 들렸어. \"카렌… 저 석상… 조심해…!\" 나는 재빨리 뒤돌아봤어. 가레스 단장님은 석상 앞에서 괴로워하고 있었어. 석상의 눈에서 이상한 빛이 나오고 있었지!",
        "\"젠장, 단장님까지!\" 나는 이를 악물었어. 아리엘도 구해야 하고, 단장님도 도와드려야 해. 하지만… 어떻게 해야 하지? 내 안의 인간과 마족의 힘은 점점 더 격렬하게 충돌하고 있었어. 마치 폭풍이 몰아치는 것 같았지.",
        "갑자기, 용사의 검이 뜨겁게 달아오르는 느낌이 들었어. '카렌… 너의 마음을 믿어라…!' 검이 나에게 속삭이는 것 같았어. 나는 용기를 내어 검을 더 꽉 쥐었어.",
        "\"흥, 이제 결심이라도 한 건가?\" 아리엘이 비웃었어. \"하지만 너무 늦었어! 이제 네 녀석도 이 혼돈 속에 빠뜨려 주겠어!\"",
        "아리엘이 검은 기운을 모아 거대한 에너지 덩어리를 만들었어. 으아, 엄청난 힘이야! 이대로는 막을 수 없어…! 그때, 석상에서 더 강렬한 빛이 뿜어져 나왔어. 그리고… 가레스 단장님의 눈이 붉게 물들었어!",
        "가레스 단장님이 칼을 뽑아 들고 나를 향해 달려들었어! \"카렌… 죽어라…!\" 맙소사! 단장님마저 조종당하고 있어! 나는 아리엘과 단장님, 두 명을 동시에 상대해야 하는 거야?!",
        "절망적인 상황이었어. 아리엘은 강력한 마족의 힘을 휘두르고, 가레스 단장님은 석상의 저주에 걸려 나를 공격하고… 나는 과연 이 위기를 헤쳐나갈 수 있을까? 그때, 내 안에서 또 다른 목소리가 들려왔어. '포기하지 마… 아직… 기회는 있어…!'"
      ],
      "choices": [
        {
          "text": "용사의 검의 힘을 믿고, 아리엘과 가레스 단장님 모두를 구하기 위해 싸운다!",
          "next_node": "chapter_15"
        },
        {
          "text": "검은 단검의 힘을 이용해 석상의 저주를 끊고, 가레스 단장님을 원래대로 되돌린다!",
          "next_node": "chapter_15_b"
        }
      ]
    },
    "chapter_15": {
      "title": "16장: 희망의 빛, 새로운 아르카디아",
      "image_prompt": "A determined black-haired young woman, glowing with inner light, stands between a pink-haired knight consumed by dark energy and a grey-haired knight with glowing red eyes, near a crumbling stone statue. The woman's sword pulses with light as she prepares to fight both.",
      "image_url": "https://obbmtrxhmhokzvuxdqlc.supabase.co/storage/v1/object/public/images/037af31e-b566-47ee-98d1-24bda362a3b9/main_story/chapter_15-1753238389992.png",
      "content": [
        "\"으아아!\" 큰일 났어! 아리엘은 검은 덩어리를 던지려고 하고, 가레스 단장님은 붉은 눈으로 칼을 휘두르며 달려오고… 진짜 샌드위치 신세잖아! 게다가 내 안에서는 인간의 힘이랑 마족의 힘이 으르렁거리고 있다고! 마치 배 속에 두 마리 뱀이 싸우는 기분이야. 꼬르륵… 윽, 배고픈 건가?",
        "\"카렌! 널 없애주겠다!\" 아리엘의 목소리가 쩌렁쩌렁 울렸어. 쳇, 저 녀석, 목소리도 커졌네! \"단장님, 정신 차리세요! 그건 진짜 단장님이 아니잖아요!\"",
        "가레스 단장님은 묵묵부답. 붉은 눈에서 레이저라도 나올 기세야! 으앙, 무서워! 단장님의 칼이 번개처럼 내 앞으로 왔어. 잽싸게 피했지만, 볼에 스크래치가 났어. 따가워!",
        "\"젠장, 이대로는 안 돼!\" 나는 용사의 검을 꽉 쥐었어. '카렌… 너의 마음을 믿어라…!' 검이 속삭이는 소리가 더 크게 들리는 것 같았어. 그래, 믿어야 해! 내 안의 착한 마음을!",
        "\"흥, 용사의 검 따위가 뭘 할 수 있다는 거지?\" 아리엘이 비웃었어. \"이제 끝이다, 카렌!\"",
        "아리엘이 던진 검은 덩어리가 엄청난 속도로 날아왔어. 으아, 저걸 맞으면 뼈도 못 추릴 거야! 나는 눈을 질끈 감았어. 그때, 용사의 검이 찌릿찌릿하더니 엄청나게 밝게 빛나기 시작했어! 마치 태양이 내 손에 있는 것 같았지.",
        "\"크아악!\" 아리엘이 갑자기 고통스러운 비명을 질렀어. 검은 덩어리가 빛에 닿자마자 산산이 부서진 거야! \"이… 이럴 수가…!\"",
        "용사의 검에서 나온 빛은 가레스 단장님에게도 향했어. 단장님의 붉은 눈이 점점 흐려지더니, 원래의 푸른 눈으로 돌아왔어. \"카… 카렌…? 무슨 일이…\"",
        "\"단장님! 정신이 드셨어요?\" 나는 기뻐서 소리쳤어. 하지만 방심은 금물! 아리엘은 아직 쓰러지지 않았어. 오히려 더 흉악한 모습으로 변하고 있었지. 온몸에서 검은 연기가 뿜어져 나오고, 날개까지 돋아났어!",
        "아리엘은 날개를 쫙 펼치더니 하늘로 슝 날아올랐어. \"카렌… 두고 봐라! 언젠가 반드시 널…!\" 쾅! 엄청난 굉음과 함께 아리엘은 사라졌어. 휴… 겨우 한숨 돌리나 싶었는데… 가레스 단장님이 갑자기 무릎을 꿇고 괴로워하기 시작했어. \"으… 내 머릿속에서… 악마의 속삭임이…!\" 설상가상이야! 이제 어떻게 해야 하지?"
      ],
      "choices": [
        {
          "text": "용사의 검의 힘을 빌려 가레스 단장님의 저주를 정화한다!",
          "next_node": "chapter_16"
        },
        {
          "text": "내 안의 마족의 힘을 이용해 악마의 속삭임을 잠재운다!",
          "next_node": "chapter_16_b"
        }
      ]
    }
  },
  "currentStep": 16,
  "gameplay": {
    "fontSize": 1.125
  },
  "ui": {
    "isLoading": false,
    "statusText": "모든 챕터 생성이 완료되었습니다!"
  }
};
    let gameState = { currentNodeKey: 'chapter_0', currentPage: 0, currentNodeObject: null };
    let settings = storyData.gameplay || { fontSize: 1.125 };

    document.addEventListener('DOMContentLoaded', () => {
        showNode('chapter_0');
    });

    function showNode(nodeKey) {
        const gameContainer = document.getElementById('game-container');
        if (!nodeKey || !storyData.story[nodeKey]) {
            gameContainer.innerHTML = `<div class="absolute inset-0 flex flex-col items-center justify-center p-8 text-center bg-black">
                    <h1 class="text-3xl font-bold mb-4">The End</h1>
                    <p class="text-xl text-gray-300">이야기가 끝났습니다. 플레이해주셔서 감사합니다.</p>
                </div>`;
            return;
        }
        gameState.currentNodeKey = nodeKey;
        gameState.currentNodeObject = storyData.story[nodeKey];
        gameState.currentPage = 0;
        renderPage();
    }

    function renderPage() {
        const gameContainer = document.getElementById('game-container');
        const node = gameState.currentNodeObject;
        if (!node || !node.content) return;

        const pageContent = node.content[gameState.currentPage];
        const isLastPage = gameState.currentPage >= node.content.length - 1;

        let choicesHTML = '';
        if (isLastPage) {
            choicesHTML = '<div class="mt-8 space-y-3 w-full max-w-2xl fade-in">';
            node.choices.forEach(choice => {
                choicesHTML += `<button class="choice-button w-full text-left p-4 rounded-lg text-lg" onclick="showNode('${choice.next_node}')">${choice.text}</button>`;
            });
            choicesHTML += '</div>';
        }

        const player = storyData.characters.find(c => c.role === 'player');

        gameContainer.innerHTML = `
            <div class="absolute inset-0 bg-cover bg-center transition-opacity duration-1000" style="background-image: url('${node.image_url}');"></div>
            <div class="absolute inset-0 vignette-overlay"></div>
            <div id="click-handler" class="relative w-full h-full flex flex-col justify-end items-center p-4 sm:p-8 pb-8">
                <div class="w-full max-w-4xl mb-8">
                    <div class="text-box p-6 rounded-lg border border-white/10">
                        <div class="mb-2"><span class="font-bold text-indigo-300 text-xl">${player.name}</span></div>
                        <p id="game-text" class="game-text-shadow text-lg sm:text-xl leading-relaxed" style="font-size: ${settings.fontSize}rem;">${pageContent}</p>
                    </div>
                </div>
                ${choicesHTML}
                <div class="absolute bottom-4 right-4 text-white/50 text-sm">${gameState.currentPage + 1} / ${node.content.length}</div>
            </div>`;
        
        document.getElementById('click-handler').addEventListener('click', (e) => {
            if (e.target.closest('button')) return;
            handleNextPage();
        });
    }

    function handleNextPage() {
        if (gameState.currentPage < gameState.currentNodeObject.content.length - 1) {
            gameState.currentPage++;
            renderPage();
        }
    }
</script>
</body>
</html>