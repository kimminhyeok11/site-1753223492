<!DOCTYPE html> <html lang="ko"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>AI Narrative Player</title> <script src="https://cdn.tailwindcss.com"></script> <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet"> <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> <style> body { font-family: 'Noto Sans KR', sans-serif; } .vignette-overlay { background: linear-gradient(to bottom, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 25%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.9) 100%); } .game-text-shadow { text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9); } .choice-button { transition: all 0.2s ease; background-color: rgba(17, 24, 39, 0.7); backdrop-filter: blur(5px); border: 1px solid rgba(255, 255, 255, 0.2); } .choice-button:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.3); background-color: rgba(31, 41, 55, 0.9); } .nav-button { transition: background-color 0.2s ease; } .nav-button:hover { background-color: rgba(255, 255, 255, 0.2); } .fade-in { animation: fadeIn 0.5s ease-in-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } </style> </head> <body class="bg-black text-white"> <div id="loading-screen" class="w-full h-screen flex flex-col items-center justify-center"> <h1 id="story-title" class="text-3xl font-bold mb-4">ì�´ì•¼ê¸°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</h1> <p class="text-gray-400">ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p> </div> <div id="game-container" class="relative w-full h-screen overflow-hidden hidden"></div> <script> const SUPABASE_URL = 'https://obbmtrxhmhokzvuxdqlc.supabase.co'; const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9iYm10cnhobWhva3p2dXhkcWxjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1MjE5MjEsImV4cCI6MjA2NTA5NzkyMX0.xBkkJ41u6mTLu2YaUtuWUxsv5PwyQR6yyMQNM6fAPfQ'; const { createClient } = supabase; const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY); let storyData = {}; let gameState = { currentNodeKey: 'chapter_0', currentPage: 0 }; document.addEventListener('DOMContentLoaded', async () => { const params = new URLSearchParams(window.location.search); const storyId = params.get('story_id'); const userId = params.get('user_id'); if (!storyId || !userId) { document.getElementById('story-title').textContent = 'ì˜¤ë¥˜'; document.getElementById('loading-screen').querySelector('p').textContent = 'ìž˜ëª»ë�œ ì ‘ê·¼ìž…ë‹ˆë‹¤. ê³µìœ ë°›ì�€ ë§�í�¬ê°€ ì •í™•í•œì§€ í™•ì�¸í•´ì£¼ì„¸ìš”.'; return; } const { data, error } = await supabaseClient .from('stories') .select('content') .eq('id', storyId) .eq('user_id', userId) .single(); if (error || !data) { console.error('Error fetching story:', error); document.getElementById('story-title').textContent = 'ì˜¤ë¥˜'; document.getElementById('loading-screen').querySelector('p').textContent = 'ì�´ì•¼ê¸°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë�° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'; return; } storyData = data.content; document.title = storyData.title || 'AI Narrative Player'; document.getElementById('story-title').textContent = storyData.title; document.getElementById('loading-screen').classList.add('hidden'); document.getElementById('game-container').classList.remove('hidden'); showNode('chapter_0'); }); // The rest of the player logic (showNode, renderPage, etc.) goes here. </script> </body> </html>